root:
  name: BlogApp
  database:
    type: sqlite
    database: ./data/blog.db
    synchronize: true
    logging: false
  features:
    cors: true
    swagger: true

modules:
  - name: User
    generate: [controller, service, module, entity, dto]
    entity:
      fields:
        - name: username
          type: string
          required: true
          unique: true
          validation: {minLength: 3, maxLength: 50}
        - name: email
          type: string
          required: true
          unique: true
          validation: {isEmail: true}
        - name: password
          type: string
          required: true
          validation: {minLength: 8}
    relations:
        - type: OneToMany
          model: Post
          field: posts
          description: A list of posts created by this user
  - name: Post
    generate: [controller, service, module, entity, dto]
    entity:
      fields:
        - name: title
          type: string
          required: true
          validation: {minLength: 5, maxLength: 255}
        - name: content
          type: string
          required: true
          validation: {minLength: 10}
        - name: published
          type: boolean
          required: false
          default: false
    relations:
        - type: ManyToOne
          model: User
          field: author
          description: The user who authored this post